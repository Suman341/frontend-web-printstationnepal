{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\boysumo\\\\Downloads\\\\react\\\\printstationnepal\\\\src\\\\components\\\\cart\\\\cartbody.js\";\nimport React, { Component } from 'react';\nimport '../css/frontend.css';\nimport CartLoopData from './cartloopdata';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\n\nclass CartBody extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.checkout = () => {\n      axios.post('http://localhost:5000/order', this.state.config).then(response => {\n        this.setState({\n          products: response.data.data\n        });\n      });\n    };\n\n    let wishLists = this.loadWishList();\n    this.state = {\n      wishLists,\n      userId: localStorage.getItem('id'),\n      config: {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    };\n  }\n\n  loadWishList() {\n    try {\n      return JSON.parse(localStorage.getItem('wishlist')) || [];\n    } catch (e) {}\n\n    return [];\n  }\n\n  render() {\n    const wishListItems = this.state.wishLists.map((item, index) => {\n      return React.createElement(CartLoopData, {\n        key: item._id,\n        cid: item._id,\n        product: item,\n        onChange: () => {\n          let wishLists = this.loadWishList();\n          this.setState({\n            wishLists\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      });\n    });\n    let totalPrice = 0;\n    this.state.wishLists.forEach(item => {\n      totalPrice += item.price * item.quantity;\n    });\n    return React.createElement(\"div\", {\n      className: \"cart-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"mb-5 first-cap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Personal Cart\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-striped table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Product Price\"), React.createElement(\"th\", {\n      scope: \"col\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      scope: \"col\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Amount\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, wishListItems, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Total\")), React.createElement(\"td\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"NPR \", totalPrice))))))), React.createElement(\"div\", {\n      className: \"col mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12  col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/products\",\n      className: \"btn btn-lg btn-block btn-light text-uppercase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Continue Shopping\")), React.createElement(\"div\", {\n      className: \"col-sm-12 col-md-6 text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-lg btn-block btn-info text-uppercase\",\n      onClick: this.checkout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Checkout\")))))));\n  }\n\n}\n\nexport default CartBody;","map":{"version":3,"sources":["C:/Users/boysumo/Downloads/react/printstationnepal/src/components/cart/cartbody.js"],"names":["React","Component","CartLoopData","NavLink","axios","CartBody","constructor","props","handleChange","e","setState","target","name","value","checkout","post","state","config","then","response","products","data","wishLists","loadWishList","userId","localStorage","getItem","headers","JSON","parse","render","wishListItems","map","item","index","_id","totalPrice","forEach","price","quantity"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../css/frontend.css';\nimport CartLoopData from './cartloopdata';\nimport {NavLink} from 'react-router-dom';\n\nimport axios from 'axios';\n\nclass CartBody extends Component {\n    constructor(props) {\n        super(props);\n\n        let wishLists = this.loadWishList();\n\n        this.state = {\n            wishLists,\n            userId: localStorage.getItem('id'),\n            config: {\n                headers: {'Authorization': `Bearer ${localStorage.getItem('token')}`}\n            }\n        }\n    }\n\n    loadWishList() {\n        try {\n            return JSON.parse(localStorage.getItem('wishlist')) || [];\n        } catch (e) {\n        }\n        return [];\n    }\n\n    handleChange = (e) => {\n        this.setState(\n            {[e.target.name]: e.target.value}\n        )\n    };\n\n    checkout = () => {\n        axios.post('http://localhost:5000/order', this.state.config)\n            .then((response) => {\n                this.setState({\n                    products: response.data.data\n                })\n            });\n    };\n\n    render() {\n        const wishListItems = this.state.wishLists.map((item, index) => {\n            return <CartLoopData key={item._id} cid={item._id} product={item} onChange={() => {\n                let wishLists = this.loadWishList();\n                this.setState({wishLists})\n            }\n            }/>\n        });\n        let totalPrice = 0;\n        this.state.wishLists.forEach(item => {\n            totalPrice += item.price * item.quantity;\n        });\n        return (\n            <div className=\"cart-body\">\n                <div className=\"container mb-4\">\n                    <h2 className=\"mb-5 first-cap\">Personal Cart</h2>\n                    <div className=\"row\">\n                        <div className=\"col-12\">\n                            <div className=\"table-responsive\">\n                                <table className=\"table table-striped table-bordered\">\n                                    <thead className=\"thead-dark\">\n                                    <tr>\n                                        <th scope=\"col\">Image</th>\n                                        <th scope=\"col\">Name</th>\n                                        <th scope=\"col\">Product Price</th>\n                                        <th scope=\"col\" className=\"text-center\">Quantity</th>\n                                        <th scope=\"col\" className=\"text-center\">Amount</th>\n                                        <th>Action</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    {wishListItems}\n                                    <tr>\n                                        <td colSpan=\"4\"></td>\n                                        <td><strong>Total</strong></td>\n                                        <td className=\"text-center\"><strong>NPR {totalPrice}</strong></td>\n                                    </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                        <div className=\"col mb-2\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-12  col-md-6\">\n                                    <NavLink to=\"/products\" className=\"btn btn-lg btn-block btn-light text-uppercase\">Continue\n                                        Shopping</NavLink>\n                                </div>\n                                <div className=\"col-sm-12 col-md-6 text-right\">\n                                    <button className=\"btn btn-lg btn-block btn-info text-uppercase\"\n                                            onClick={this.checkout}>Checkout\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* content */}\n            </div>\n        );\n    }\n}\n\nexport default CartBody;"]},"metadata":{},"sourceType":"module"}