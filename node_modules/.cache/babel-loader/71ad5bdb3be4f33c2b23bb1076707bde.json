{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\boysumo\\\\Downloads\\\\react\\\\printstationnepal\\\\src\\\\auth\\\\auth-screen.js\";\nimport React from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport '../assets/auth.css';\nimport axios from \"axios\";\nexport default class AuthScreen extends React.Component {\n  constructor() {\n    super();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3 register-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://image.ibb.co/n7oTvU/logo_white.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, \"Welcome\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, \"You are 30 seconds away from getting customised products!\")), React.createElement(\"div\", {\n      className: \"col-md-9 register-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav nav-tabs nav-justified\",\n      id: \"myTab\",\n      role: \"tablist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link active\",\n      id: \"home-tab\",\n      \"data-toggle\": \"tab\",\n      href: \"#home\",\n      role: \"tab\",\n      \"aria-controls\": \"home\",\n      \"aria-selected\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \"Registration\")), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link\",\n      id: \"profile-tab\",\n      \"data-toggle\": \"tab\",\n      href: \"#profile\",\n      role: \"tab\",\n      \"aria-controls\": \"profile\",\n      \"aria-selected\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Login\"))), React.createElement(\"div\", {\n      className: \"tab-content\",\n      id: \"myTabContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-pane fade show active\",\n      id: \"home\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"home-tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(RegisterComponent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"tab-pane fade show\",\n      id: \"profile\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"profile-tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(LoginComponent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nclass LoginComponent extends React.Component {\n  constructor() {\n    super();\n\n    this.login = () => {\n      const loginData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.post(' http://localhost:5000/user/login', loginData).then(response => {\n        console.log(response.data);\n        const _response$data$data$u = response.data.data.user,\n              id = _response$data$data$u._id,\n              firstname = _response$data$data$u.firstname,\n              lastname = _response$data$data$u.lastname,\n              email = _response$data$data$u.email,\n              phone = _response$data$data$u.phone,\n              address = _response$data$data$u.address,\n              admin = _response$data$data$u.admin;\n        localStorage.setItem('token', response.data.data.token);\n        localStorage.setItem('id', id);\n        localStorage.setItem('name', firstname + \" \" + lastname);\n        localStorage.setItem('email', email);\n        localStorage.setItem('contact', phone);\n        localStorage.setItem('address', address);\n        localStorage.setItem('super', admin);\n        this.setState({\n          loggedin: true,\n          admin: admin\n        });\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          error: error.message\n        });\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      success: undefined,\n      error: undefined,\n      email: undefined,\n      password: undefined,\n      loggedIn: false,\n      admin: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"register-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      className: \"row register-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.error && React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.error), this.state.success && React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, this.state.success), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"Email *\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password *\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btnLogin\",\n      value: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nclass RegisterComponent extends React.Component {\n  constructor() {\n    super();\n\n    this.registerUser = () => {\n      const userData = {\n        firstname: this.state.firstName,\n        lastname: this.state.lastName,\n        email: this.state.email,\n        password: this.state.password,\n        phone: this.state.phone,\n        address: this.state.address\n      };\n      axios.post('http://localhost:5000/user/register', userData).then(response => {\n        this.setState({\n          success: response.data.message\n        });\n        setTimeout(function () {\n          window.location.assign(\"/login\");\n        }, 2000);\n      }).catch(error => {\n        this.setState({\n          error: \"Something went wrong. Try again!\"\n        });\n        console.log(error.response.data.message);\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      firstName: undefined,\n      lastName: undefined,\n      email: undefined,\n      password: undefined,\n      phone: undefined,\n      address: undefined,\n      success: undefined,\n      error: undefined\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"register-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Sign up\"), this.state.error && React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, this.state.error), this.state.success && React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, this.state.success), React.createElement(\"div\", {\n      className: \"row register-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"firstName\",\n      className: \"form-control\",\n      placeholder: \"First Name *\",\n      value: this.state.firstName,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"lastName\",\n      className: \"form-control\",\n      placeholder: \"Last Name *\",\n      value: this.state.lastName,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"address\",\n      name: \"address\",\n      className: \"form-control\",\n      placeholder: \"Address *\",\n      value: this.state.address,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      minLength: \"10\",\n      maxLength: \"10\",\n      name: \"phone\",\n      className: \"form-control\",\n      placeholder: \"Your Phone Number *\",\n      value: this.state.phone,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }))), React.createElement(\"form\", {\n      className: \"col-md-6 form-signIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      className: \"form-control\",\n      placeholder: \"Your Email *\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password *\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btnRegister\",\n      value: \"Register\",\n      onClick: this.registerUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/boysumo/Downloads/react/printstationnepal/src/auth/auth-screen.js"],"names":["React","axios","AuthScreen","Component","constructor","render","LoginComponent","login","loginData","email","state","password","post","then","response","console","log","data","user","id","_id","firstname","lastname","phone","address","admin","localStorage","setItem","token","setState","loggedin","catch","error","message","handleChange","e","target","name","value","success","undefined","loggedIn","RegisterComponent","registerUser","userData","firstName","lastName","setTimeout","window","location","assign"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\n\r\nimport '../assets/auth.css';\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default class AuthScreen extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div class=\"register\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-3 register-left\">\r\n                        <img src=\"https://image.ibb.co/n7oTvU/logo_white.png\" alt=\"\"/>\r\n                        <h3>Welcome</h3>\r\n                        <p>You are 30 seconds away from getting customised products!</p>\r\n                    </div>\r\n                    <div className=\"col-md-9 register-right\">\r\n                        <ul className=\"nav nav-tabs nav-justified\" id=\"myTab\" role=\"tablist\">\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#home\" role=\"tab\"\r\n                                   aria-controls=\"home\" aria-selected=\"true\">Registration</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\"\r\n                                   aria-controls=\"profile\" aria-selected=\"false\">Login</a>\r\n                            </li>\r\n                        </ul>\r\n                        <div className=\"tab-content\" id=\"myTabContent\">\r\n                            <div className=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\"\r\n                                 aria-labelledby=\"home-tab\">\r\n                                <RegisterComponent/>\r\n                            </div>\r\n                            <div className=\"tab-pane fade show\" id=\"profile\" role=\"tabpanel\"\r\n                                 aria-labelledby=\"profile-tab\">\r\n                                <LoginComponent/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass LoginComponent extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            success: undefined,\r\n            error: undefined,\r\n            email: undefined,\r\n            password: undefined,\r\n            loggedIn: false,\r\n            admin: false,\r\n        }\r\n    }\r\n\r\n    login = () => {\r\n        const loginData = {\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n        };\r\n\r\n        axios.post(' http://localhost:5000/user/login', loginData)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                const {_id: id, firstname, lastname, email, phone, address, admin} = response.data.data.user;\r\n                localStorage.setItem('token', response.data.data.token);\r\n                localStorage.setItem('id', id);\r\n                localStorage.setItem('name', firstname + \" \" + lastname);\r\n                localStorage.setItem('email', email);\r\n                localStorage.setItem('contact', phone);\r\n                localStorage.setItem('address', address);\r\n                localStorage.setItem('super', admin);\r\n                this.setState({loggedin: true, admin: admin});\r\n            }).catch(error => {\r\n            console.log(error);\r\n            this.setState({\r\n                error: error.message\r\n            });\r\n        })\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState(\r\n            {[e.target.name]: e.target.value}\r\n        )\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 className=\"register-heading\">Login</h3>\r\n                <div className=\"row register-form\">\r\n                    {\r\n                        this.state.error &&\r\n                        <div className=\"alert alert-danger\">\r\n                            {this.state.error}\r\n                        </div>\r\n                    }\r\n                    {\r\n                        this.state.success &&\r\n                        <div className=\"alert alert-info\">\r\n                            {this.state.success}\r\n                        </div>\r\n                    }\r\n\r\n                    <div className=\"col-md-4\">\r\n\r\n                    </div>\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"form-group\"></div>\r\n                        <div className=\"form-group\"></div>\r\n                        <div className=\"form-group\"></div>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"email\" className=\"form-control\" placeholder=\"Email *\"\r\n                                   value={this.state.email} onChange={this.handleChange} autoFocus/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"password\" className=\"form-control\" placeholder=\"Password *\"\r\n                                   value={this.state.password} onChange={this.handleChange} autoFocus/>\r\n                        </div>\r\n\r\n                        <input type=\"submit\" className=\"btnLogin\" value=\"Login\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass RegisterComponent extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            firstName: undefined,\r\n            lastName: undefined,\r\n            email: undefined,\r\n            password: undefined,\r\n            phone: undefined,\r\n            address: undefined,\r\n            success: undefined,\r\n            error: undefined,\r\n        }\r\n    }\r\n\r\n    registerUser = () => {\r\n        const userData = {\r\n            firstname: this.state.firstName,\r\n            lastname: this.state.lastName,\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n            phone: this.state.phone,\r\n            address: this.state.address\r\n        };\r\n\r\n        axios.post('http://localhost:5000/user/register', userData)\r\n            .then(response => {\r\n                this.setState({\r\n                    success: response.data.message\r\n                });\r\n                setTimeout(function () {\r\n                    window.location.assign(\"/login\")\r\n                }, 2000);\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    error: \"Something went wrong. Try again!\"\r\n                });\r\n                console.log(error.response.data.message)\r\n\r\n            })\r\n    };\r\n\r\n\r\n    handleChange = (e) => {\r\n        this.setState(\r\n            {[e.target.name]: e.target.value}\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 className=\"register-heading\">Sign up</h3>\r\n\r\n                {\r\n                    this.state.error &&\r\n                    <div className=\"alert alert-danger\">\r\n                        {this.state.error}\r\n                    </div>\r\n                }\r\n                {\r\n                    this.state.success &&\r\n                    <div className=\"alert alert-info\">\r\n                        {this.state.success}\r\n                    </div>\r\n                }\r\n                <div className=\"row register-form\">\r\n                    <div className=\"col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <input type=\"text\" name='firstName' className=\"form-control\"\r\n                                   placeholder=\"First Name *\"\r\n                                   value={this.state.firstName} onChange={this.handleChange} autoFocus/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"text\" name='lastName' className=\"form-control\"\r\n                                   placeholder=\"Last Name *\"\r\n                                   value={this.state.lastName} onChange={this.handleChange} autoFocus/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"address\" name='address' className=\"form-control\"\r\n                                   placeholder=\"Address *\" value={this.state.address} onChange={this.handleChange}\r\n                                   autoFocus/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"text\" minLength=\"10\" maxLength=\"10\" name=\"phone\"\r\n                                   className=\"form-control\" placeholder=\"Your Phone Number *\" value={this.state.phone}\r\n                                   onChange={this.handleChange} autoFocus/>\r\n                        </div>\r\n                    </div>\r\n                    <form className=\"col-md-6 form-signIn\">\r\n                        <div className=\"col-md-12\">\r\n                            <div className=\"form-group\">\r\n                                <input type=\"email\" name='email' className=\"form-control\"\r\n                                       placeholder=\"Your Email *\"\r\n                                       value={this.state.email} onChange={this.handleChange} autoFocus/>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input type=\"password\" name='password' className=\"form-control\"\r\n                                       placeholder=\"Password *\"\r\n                                       value={this.state.password} onChange={this.handleChange} autoFocus/>\r\n                            </div>\r\n                            <input type=\"submit\" className=\"btnRegister\" value=\"Register\" onClick={this.registerUser}/>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}